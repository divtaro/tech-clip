@import "tailwindcss";

@theme {
  --color-background: 0 0% 100%;
  --color-foreground: 0 0% 3.9%;
  --color-card: 0 0% 100%;
  --color-card-foreground: 0 0% 3.9%;
  --color-popover: 0 0% 100%;
  --color-popover-foreground: 0 0% 3.9%;
  --color-primary: 221 83% 53%;
  --color-primary-foreground: 0 0% 98%;
  --color-secondary: 0 0% 96.1%;
  --color-secondary-foreground: 0 0% 9%;
  --color-muted: 0 0% 96.1%;
  --color-muted-foreground: 0 0% 45.1%;
  --color-accent: 0 0% 88%;
  --color-accent-foreground: 0 0% 9%;
  --color-destructive: 0 84.2% 60.2%;
  --color-destructive-foreground: 0 0% 98%;
  --color-border: 0 0% 85%;
  --color-input: 0 0% 85%;
  --color-ring: 221 83% 53%;
  --radius-lg: 0.5rem;
  --radius-md: calc(0.5rem - 2px);
  --radius-sm: calc(0.5rem - 4px);
}

:root {
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  --card: var(--color-card);
  --card-foreground: var(--color-card-foreground);
  --popover: var(--color-popover);
  --popover-foreground: var(--color-popover-foreground);
  --primary: var(--color-primary);
  --primary-foreground: var(--color-primary-foreground);
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-foreground);
  --muted: var(--color-muted);
  --muted-foreground: var(--color-muted-foreground);
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-foreground);
  --destructive: var(--color-destructive);
  --destructive-foreground: var(--color-destructive-foreground);
  --border: var(--color-border);
  --input: var(--color-input);
  --ring: var(--color-ring);
  --radius: var(--radius-lg);
}

.dark {
  --color-background: 0 0% 3.9%;
  --color-foreground: 0 0% 98%;
  --color-card: 0 0% 3.9%;
  --color-card-foreground: 0 0% 98%;
  --color-popover: 0 0% 3.9%;
  --color-popover-foreground: 0 0% 98%;
  --color-primary: 221 83% 63%;
  --color-primary-foreground: 0 0% 98%;
  --color-secondary: 0 0% 14.9%;
  --color-secondary-foreground: 0 0% 98%;
  --color-muted: 0 0% 14.9%;
  --color-muted-foreground: 0 0% 63.9%;
  --color-accent: 0 0% 20%;
  --color-accent-foreground: 0 0% 98%;
  --color-destructive: 0 62.8% 30.6%;
  --color-destructive-foreground: 0 0% 98%;
  --color-border: 0 0% 25%;
  --color-input: 0 0% 25%;
  --color-ring: 221 83% 63%;
}

* {
  border-color: hsl(var(--border));
}

html {
  /* Let body be the scroll container to avoid iOS jump-to-top */
  height: 100%;
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  height: 100%;
  max-width: 100%;
  overflow-x: hidden;
  overflow-y: auto; /* Native momentum scroll on iOS */
  -webkit-overflow-scrolling: touch;
  /* Allow natural overscroll and pull-to-refresh */
}

/* (Reverted) no extra iOS-specific compositing tweaks */

/* モーダルとセレクトボックスの透過を防ぐ */
[role="dialog"],
[role="alertdialog"] {
  background-color: hsl(var(--popover)) !important;
  opacity: 1 !important;
}

/* ドロップダウンとセレクトボックスのコンテナ背景 */
[role="menu"],
[role="listbox"] {
  background-color: hsl(var(--popover));
}

.popover-content {
  background-color: hsl(var(--popover)) !important;
  opacity: 1 !important;
}

/* Placeholderの色を統一 */
::placeholder {
  color: hsl(var(--muted-foreground));
  opacity: 0.6;
}

/* フォーカス時の枠線をアクティブに */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: hsl(var(--primary));
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
}

/* Radix UI Select トリガーのオープン時スタイル */
button[data-state="open"] {
  border-color: hsl(var(--primary)) !important;
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2) !important;
}

/* ボタンにカーソルポインター */
button,
[role="button"],
[type="button"],
[type="submit"] {
  cursor: pointer;
}

/* ドロップダウンメニューとセレクトボックスの項目ホバースタイル */
[role="menuitem"]:hover,
[role="option"]:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}
